<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<title>Grade Planner — Upload Syllabus</title>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
  <link rel="stylesheet" href="../css/global.css"/>
  <link rel="stylesheet" href="../css/syllabus.css"/>
</head>
<body>
<div class="wrap">
  <h2 id="title" style="font-size:28px;font-weight:700;margin-bottom:16px"></h2>
  <p style="color:#6b7280;line-height:1.7;margin-bottom:32px">
    Upload your course syllabus (PDF) and our AI will extract important information including grading weights, drop policies, exam counts, extra credit opportunities, and assignment details.
  </p>
  
  <div class="card">
    <h3>Select Syllabus File</h3>
    <input id="f" type="file" accept=".pdf" style="margin:16px 0;padding:12px;border:2px dashed #d1d5db;border-radius:8px;width:100%;cursor:pointer"/>
    <div class="row">
      <button id="upload" class="btn btn--primary">Upload & Analyze</button>
      <button id="skip" class="btn btn--ghost">Skip This Step</button>
    </div>
    <p id="msg" style="margin-top:16px;color:#6b7280;font-size:14px">Waiting for file selection...</p>
  </div>
</div>

<script>
  const name=sessionStorage.getItem('current_course_name')||'Selected Course';
  document.getElementById('title').textContent=`${name} — Upload Syllabus`;
  
  document.getElementById('upload').onclick=()=>{
    const file=document.getElementById('f').files[0];
    if(!file){
      alert('Please select a PDF file');
      return;
    }
    sessionStorage.setItem('syll_pdf','1');
    document.getElementById('msg').textContent='✓ Upload complete. Redirecting to analysis...';
    setTimeout(()=>location.href='analyze.html',600);
  };
  
  document.getElementById('skip').onclick=()=>{
    sessionStorage.removeItem('syll_pdf');
    location.href='analyze.html';
  };
</script>
</body>
</html>
