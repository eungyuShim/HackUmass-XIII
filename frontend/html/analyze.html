<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<title>Grade Planner — AI Analysis</title>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
  <link rel="stylesheet" href="../css/global.css"/>
  <link rel="stylesheet" href="../css/analyze.css"/>
</head>
<body>
<div class="wrap">
  <h2 id="title" style="font-size:28px;font-weight:700;margin-bottom:16px"></h2>
  <p style="color:#6b7280;line-height:1.7;margin-bottom:32px">
    Review the extracted information from your syllabus. You can modify any values below before confirming and proceeding to your dashboard.
  </p>

  <div class="grid">
    <div class="card">
      <h3>Grade Weights (%)</h3>
      <label style="display:block;margin:12px 0">
        Exams
        <input id="wEx" type="number" value="50" min="0" max="100" class="input" style="width:100%;margin-top:4px"/>
      </label>
      <label style="display:block;margin:12px 0">
        Quizzes
        <input id="wQz" type="number" value="25" min="0" max="100" class="input" style="width:100%;margin-top:4px"/>
      </label>
      <label style="display:block;margin:12px 0">
        Assignments
        <input id="wHw" type="number" value="25" min="0" max="100" class="input" style="width:100%;margin-top:4px"/>
      </label>
    </div>

    <div class="card">
      <h3>Exam Structure</h3>
      <label style="display:block;margin:12px 0">
        Midterms
        <input id="midN" type="number" value="2" min="0" class="input" style="width:100%;margin-top:4px"/>
      </label>
      <label style="display:block;margin:12px 0">
        Finals
        <input id="finN" type="number" value="1" min="0" class="input" style="width:100%;margin-top:4px"/>
      </label>
    </div>

    <div class="card">
      <h3>Assignment Counts</h3>
      <label style="display:block;margin:12px 0">
        Assignments
        <input id="hwN" type="number" value="6" min="0" class="input" style="width:100%;margin-top:4px"/>
      </label>
      <label style="display:block;margin:12px 0">
        Quizzes
        <input id="qzN" type="number" value="8" min="0" class="input" style="width:100%;margin-top:4px"/>
      </label>
    </div>

  <div class="row" style="justify-content:flex-end;margin-top:32px">
    <button id="back" class="btn btn--ghost">← Back</button>
    <button id="confirm" class="btn btn--primary">Confirm & Go to Dashboard</button>
  </div>
</div>

<script>
  const name=sessionStorage.getItem('current_course_name')||'Selected Course';
  document.getElementById('title').textContent=`${name} — AI Analysis Results`;
  
  document.getElementById('back').onclick=()=>history.back();
  
  document.getElementById('confirm').onclick=()=>{
    const w={ex:+wEx.value, qz:+wQz.value, hw:+wHw.value};
    if(w.ex+w.qz+w.hw!==100){
      alert('Grade weights must total 100%');
      return;
    }
    const data={
      weights:w,
      dropQ:+dropQ.value,
      examPolicy:bestK.value,
      midterms:+midN.value,
      finals:+finN.value,
      counts:{assignments:+hwN.value, quizzes:+qzN.value},
      extra:extra.value
    };
    sessionStorage.setItem('syll_extract',JSON.stringify(data));
    location.href='dashboard.html';
  };
</script>
</body>
</html>
